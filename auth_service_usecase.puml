@startuml AuthService Use Cases

' Set page size to A4
page 2x2
scale 1.2

' Improve overall styling
skinparam {
    defaultFontName Arial
    defaultFontSize 12
    roundCorner 15
    shadowing true
    shadowingOffset 2
}

' Style for actors
skinparam actor {
    BackgroundColor LightGreen
    BorderColor DarkGreen
    FontSize 14
    FontStyle bold
}

' Style for use cases
skinparam usecase {
    BackgroundColor LightBlue
    BorderColor DarkBlue
    ArrowColor DarkBlue
    FontSize 12
    FontStyle bold
    Padding 8
    Margin 3
}

' Style for notes
skinparam note {
    BackgroundColor LightYellow
    BorderColor DarkYellow
    FontSize 10
    Margin 3
}

' Layout direction
left to right direction

actor User
actor "Google OAuth" as Google

rectangle "Authentication System" {
    usecase "Register User" as UC1
    usecase "Login with Credentials" as UC2
    usecase "Login with Google" as UC3
    usecase "Verify Email" as UC4
    usecase "Update Password" as UC5
    usecase "Add Phone Number" as UC6
    usecase "Logout" as UC7
    usecase "Send OTP" as UC8
}

User --> UC1
User --> UC2
User --> UC3
User --> UC5
User --> UC6
User --> UC7
Google --> UC3

UC1 ..> UC8 : <<include>>
UC1 ..> UC4 : <<include>>

note right of UC1
  Validates phone number and email
  Creates new user account
  Sends verification email
end note

note right of UC2
  Authenticates with username/password
  Returns JWT token
end note

note right of UC3
  Handles Google OAuth callback
  Creates/updates user account
  Returns JWT token
end note

note right of UC4
  Verifies email using OTP
  Enables user account
end note

note right of UC5
  Updates user password
  Requires authentication
end note

note right of UC6
  Adds phone number to account
  Requires authentication
end note

note right of UC7
  Invalidates JWT token
  Logs user out
end note

note right of UC8
  Generates and sends OTP
  Used for email verification
end note

@enduml 